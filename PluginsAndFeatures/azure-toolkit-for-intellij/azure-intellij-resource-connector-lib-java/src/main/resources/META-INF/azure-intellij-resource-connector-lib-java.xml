<idea-plugin>
    <depends>com.intellij.modules.java</depends>
    <depends>com.intellij.properties</depends>

    <extensions defaultExtensionNs="com.intellij">
        <runConfigurationExtension implementation="com.microsoft.azure.toolkit.intellij.connector.dotazure.DotEnvRunConfigurationExtension"/>
        <annotator language="JAVA" implementationClass="com.microsoft.azure.toolkit.intellij.connector.annotator.ResourceConnectionAnnotator"/>
        <typedHandler implementation="com.microsoft.azure.toolkit.intellij.connector.spring.properties.SpringPropertiesAutoPopupHandler" id="azPropertiesAuto"/>
        <lookup.charFilter implementation="com.microsoft.azure.toolkit.intellij.connector.spring.properties.SpringPropertyCharFilter" id="azProperties"/>
        <completion.contributor language="Properties" id="azPropertiesCompletion" order="before propertiesCompletion" implementationClass="com.microsoft.azure.toolkit.intellij.connector.spring.properties.SpringPropertiesCompletionContributor"/>
        <completion.contributor language="JAVA" implementationClass="com.microsoft.azure.toolkit.intellij.connector.completion.ResourceConnectionCompletionContributor"/>
        <codeInsight.lineMarkerProvider language="Properties" implementationClass="com.microsoft.azure.toolkit.intellij.connector.spring.properties.SpringPropertiesLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="JAVA" implementationClass="com.microsoft.azure.toolkit.intellij.connector.marker.ResourceConnectionLineMarkerProvider"/>
    </extensions>

    <extensions defaultExtensionNs="com.microsoft.tooling.msservices.intellij.azure">
        <connectionProvider implementation="com.microsoft.azure.toolkit.intellij.connector.JavaConnection$JavaConnectionProvider"/>
    </extensions>

    <extensionPoints>
        <extensionPoint name="completionMetadataProvider"
                        interface="com.microsoft.azure.toolkit.intellij.connector.completion.CompletionMetadataProvider"/>
    </extensionPoints>

    <projectListeners>
        <listener class="com.microsoft.azure.toolkit.intellij.connector.dotazure.BeforeRunTaskAdder"
                  topic="com.intellij.execution.RunManagerListener" />
        <listener class="com.microsoft.azure.toolkit.intellij.connector.dotazure.BeforeRunTaskAdder"
                  topic="com.microsoft.azure.toolkit.intellij.connector.ConnectionTopics$ConnectionChanged" />
        <listener class="com.microsoft.azure.toolkit.intellij.connector.dotazure.BeforeRunTaskAdder"
                  topic="com.microsoft.azure.toolkit.intellij.common.runconfig.IWebAppRunConfiguration$ModuleChangedListener" />
    </projectListeners>

</idea-plugin>
